function settings(n,r,s,e){function t(n){if(!e.existsSync(n))return{};var r=e.readFileSync(n,"utf8");try{return JSON.parse(r)}catch(s){return{}}}function i(){c.forOwn(o,function(n,r){process.env[r]&&(o[r]=process.env[r])})}var c=require("lodash"),o={};return e||(e=require("fs")),r=c.isArray(r)?r:["./config.json","./secrets.json"],n=c.isObject(n)?n:{},r.forEach(function(n){c.assign(o,t(n))}),c.assign(o,n),s||i(),o}module.exports=settings;